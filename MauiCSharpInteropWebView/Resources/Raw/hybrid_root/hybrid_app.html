<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
    <script src="_hwv/HybridWebView.js"></script>
    <link href="styles/my-styles.css" rel="stylesheet" />
</head>
<body>
    <h1>HybridWebView demo: Main page</h1>
    <div class="navBar">
        Main page | <a href="/rawmessages.html">Raw messages</a> | <a href="/methodinvoke.html">Method invoke</a>
    </div>
    <div>
        Welcome to the HybridWebView demo for .NET MAUI!
        The HybridWebView control enables hosting arbitrary HTML, JavaScript, CSS, and more in a native .NET MAUI app.
        The .NET code and JavaScript code can send messages to each other and invoke methods in both directions.
    </div>
    <div>
        Check out the navigation links above for some <em>cool</em> demos.
    </div>
    <div>
        <input type="button" value="Load image from Zip" onclick="loadFromZip('happy.jpeg')" />
        <input type="button" value="Fail to load image from Zip" onclick="loadFromZip('notInZip.jpeg')" />
        <input type="button" value="Proxy random image from web" onclick="loadFromWeb()" />
        <br/>
        <img id="proxyImage" />
    </div>
    <script>
        // Notify .NET code which page we're on
        HybridWebView.SendRawMessageToDotNet("page:0");

        function loadFromZip(fileName) {
            document.getElementById('proxyImage').src = `https://0.0.0.0/proxy?operation=loadImageFromZip&fileName=${fileName}`;
        }

        function loadFromWeb() {
            //Get a random integer between 1 and 10
            var randomInt = Math.floor(Math.random() * 9) + 1;
            document.getElementById('proxyImage').src = `https://0.0.0.0/proxy?operation=loadImageFromWeb&tileId=${randomInt}`;
        }
    </script>
</body>
</html>
